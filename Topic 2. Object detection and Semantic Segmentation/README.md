# Курс Технологии компьютерного зрения

### 2 "Tracking. Re-Identification. Sort, DeepSort":
Студенту необходимо реализовать методы tracker_soft, tracker_strong и метод подсчета метрик, а также написать отчет. 
Все подробности тут https://github.com/VABer-dv/object-tracking-assignment

Критерии оценки дз по теме:

Оценка неудовлетворительно (2) ставится, если:
- студент все сделал, но не может рассказать как работает его код и что происходит в проекте
- код полностью заимствован у другой команды/из репозитория
- нарушен оговоренный срок сдачи и защиты дз

Оценка удовлетворительно (3) ставится, если:
- студент реализовал только 1 метод трекера + метод подсчета метрик, при этом презентация самой работы произведена плохо, 
студент с трудом отвечает на вопросы по проекту, отчет по работе не отвечает критериям (проговаривал на лекции)

Оценка хорошо (4) ставится, если:
- студент реализовал только 1 метод трекера + метод подсчета метрик, быстро ориентируется в коде проекта, отвечает на
поставленные вопросы на защите, отчет отвечает критериям

или

- студент реализовал 2 метода трекера + метод подсчета метрик, но имеет сложности в презентации и защите работы, 
нуждается в большом количестве наводящих вопросов, чтобы ответить на первоначальный вопрос, имеет недочеты в оформлении 
отчета

Оценка отлично (5) ставится, если:
- студент сдал и защитил работу в кратчайший срок, на ближайшей официальной практике после лекции; при этом работа может
иметь недочеты или шероховатости, но студент должен хорошо разбираться в презентуемом материале и представленном проекте

или

- студент реализовал 2 метода трекера + метод подсчета метрик, быстро ориентируется в коде проекта, отвечает на 
поставленные вопросы на защите, отчет отвечает критериям


## Отчёт

### Soft Tracker

Венгерский алгоритм

### Strong Tracker

DeepSort

### Метод оценки качества

Оценка качества трекинга осуществляется с помощью метрики MOTA:

# MOTA (Multiple Object Tracking Accuracy)

**MOTA** (Multiple Object Tracking Accuracy) — это метрика, используемая для оценки производительности систем отслеживания множества объектов. Она учитывает три типа ошибок: ложные срабатывания (FP), пропущенные объекты (FN) и смену идентификаторов (IDSW).

## Формула

MOTA рассчитывается по следующей формуле:

$$ MOTA = 1- { FP + FN + IDSW \over GT} $$

где:
- **FP** (False Positives) — количество ложных срабатываний.
- **FN** (False Negatives) — количество пропущенных объектов.
- **IDSW** (ID Switches) — количество смен идентификаторов объектов.
- **GT** (Ground Truth) — общее количество объектов в эталонной разметке.

## Пояснение

- **Ложные срабатывания (FP)**: Объекты, которые были ошибочно определены трекером, но отсутствуют в эталонной разметке.
- **Пропущенные объекты (FN)**: Объекты, которые присутствуют в эталонной разметке, но не были обнаружены трекером.
- **Смена идентификаторов (IDSW)**: Случаи, когда идентификатор объекта изменяется на другой в процессе отслеживания.

MOTA может принимать значения от -∞ до 1, где 1 означает идеальное отслеживание без ошибок. Отрицательное значение указывает на большое количество ошибок в отслеживании.



### Замеры метрик для разных параметров

В таблице ниже представлены значения метрик на примерах, сгенерированных с различными параметрами (tracks_amount, random_range, bb_skip_percent), для двух реализованных трекеров.

| **tracks_amount** | **random_range** | **bb_skip_percent** | **tracker** | **MOTA** |
|-------------|------------------|---------------------|-------------|----------|
| 5           | 10               | 0.25                | Soft        | -0.39    |
| 5           | 20               | 0.25                | Soft        | -0.39    |
| 5           | 5                | 0.25                | Soft        | -0.23    |
| 5           | 10               | 0.50                | Soft        | -0.97    |
| 5           | 10               | 0.10                | Soft        | 0.46     |
| 5           | 10               | 0.25                | Strong      | 0        |
| 5           | 20               | 0.25                | Strong      | 0        |
| 5           | 5                | 0.25                | Strong      |          |
| 5           | 10               | 0.50                | Strong      |          |
| 5           | 10               | 0.10                | Strong      |          |
| 10          | 10               | 0.25                | Soft        | -0.25    |
| 10          | 20               | 0.25                | Soft        | -0.41    |
| 10          | 5                | 0.25                | Soft        | -0.57    |
| 10          | 10               | 0.50                | Soft        | -0.89    |
| 10          | 10               | 0.10                | Soft        | 0.31     |
| 10          | 10               | 0.25                | Strong      |          |
| 10          | 20               | 0.25                | Strong      |          |
| 10          | 5                | 0.25                | Strong      |          |
| 10          | 10               | 0.50                | Strong      |          |
| 10          | 10               | 0.10                | Strong      |          |
| 20          | 10               | 0.25                | Soft        | -0.340   |
| 20          | 20               | 0.25                | Soft        | -0.39    |
| 20          | 5                | 0.25                | Soft        | -0.36    |
| 20          | 10               | 0.50                | Soft        | -1.01    |
| 20          | 10               | 0.10                | Soft        | 0.07     |
| 20          | 10               | 0.25                | Strong      |          |
| 20          | 20               | 0.25                | Strong      |          |
| 20          | 5                | 0.25                | Strong      |          |
| 20          | 10               | 0.50                | Strong      |          |
| 20          | 10               | 0.10                | Strong      |          |



### Наблюдения и выводы

- Strong tracker показывает себя лучше, чем soft, так как он опирается на визуальную информацию, а не только на информацию от детекции
- Soft начинает значительно хуже работать при увеличении пропускания детекции (bb_skip_percent)
- С увеличением кол-ва объектов сильно падает точность, вероятно это связано с высоким перекрытием объектов на всей траектории движения. Также это зависит от самих кантриболов, тк некоторые имеют белый фон, что ухудшает трекинг
- 